#!/bin/bash

Dirs=( "/home/davidson/windows/Downloads"
       "/home/davidson/windows/Pictures/Screenshots" )

deleteEmptyDirs() {
    [[ -d "$1" ]] || return 1

    find "$1" -mindepth 1 -depth -type d -empty -print0 2>/dev/null |
    while IFS= read -r -d '' dir; do
        if rmdir "$dir"; then
            printf 'Removed: %s\n' "$dir"
        fi
    done
}

for (( i=0; i<${#Dirs[@]}; i++ )) ; do
    Dir="${Dirs[$i]}"

    [[ -d "$1" ]] || continue

    echo "+ Cleaning up directory '$Dir'..."
    find "$Dir" -type f \( -atime +30 -o -mtime +90 \) -print -delete
    deleteEmptyDirs "$Dir"
done

exit 0
